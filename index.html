<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AARMA Arabian Restaurant | Siddipet</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif}
body{background:#1a0000;color:white}
nav{background:#330000;padding:15px;text-align:center;color:gold;font-weight:bold;position:relative}
.cart-count{position:absolute;top:12px;right:90px;background:gold;color:black;padding:4px 8px;border-radius:50%;font-weight:bold;font-size:14px}
section{padding:40px}
h2{color:gold;text-align:center;margin-bottom:20px}
.menu{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:15px}
.item{background:#400000;padding:15px;border-radius:15px;text-align:center;border:1px solid gold}
.item button{margin-top:10px;background:gold;border:none;padding:6px 12px;border-radius:10px;cursor:pointer;font-weight:bold}
.cart-btn{position:fixed;bottom:20px;right:20px;background:gold;color:black;padding:12px;border-radius:30px;cursor:pointer;font-weight:bold}
.cart-box{position:fixed;right:-400px;top:0;width:350px;height:100%;background:#220000;padding:20px;transition:.4s;overflow:auto;z-index:1000}
.cart-box.active{right:0}
.back-btn{background:#999;color:black;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;font-weight:bold;margin-bottom:10px}
input,select{width:100%;margin-bottom:8px;padding:6px;border-radius:6px;border:none}
.track-box{background:#330000;padding:20px;margin:30px;border-radius:15px;text-align:center}
.status{color:gold;font-weight:bold;margin-top:10px}
#map{width:100%;height:300px;border-radius:10px;margin-top:15px}
footer{text-align:center;padding:20px;background:#220000;margin-top:30px}
</style>

<!-- Load Google Maps JS API -->
<script src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY"></script>
</head>
<body>

<nav>
  AARMA Arabian Restaurant | Siddipet
  <span class="cart-count" id="cartCount">0</span>
</nav>

<!-- MENU SECTIONS (same as before) -->
<section>
<h2>üçñ Mandi Specials</h2>
<div class="menu">
<div class="item">Chicken Mandi ‚Çπ450<button onclick="addToCart('Chicken Mandi',450)">Add</button></div>
<div class="item">Mutton Mandi ‚Çπ650<button onclick="addToCart('Mutton Mandi',650)">Add</button></div>
<div class="item">Fish Mandi ‚Çπ550<button onclick="addToCart('Fish Mandi',550)">Add</button></div>
<div class="item">Family Mandi ‚Çπ1200<button onclick="addToCart('Family Mandi',1200)">Add</button></div>
</div>
</section>

<!-- (Repeat other menu sections here ‚Äî Haleem, Starters, Biryani, Desserts, Beverages) -->
<!-- ... same as your existing code ... -->

<div class="cart-btn" onclick="toggleCart()">üõí Cart</div>

<div class="cart-box" id="cartBox">
  <button class="back-btn" onclick="toggleCart()">‚¨Ö Back</button>
  <h3 style="color:gold">Your Cart</h3>
  <ul id="cartList"></ul>
  <h4 id="total"></h4>

  <input type="text" id="custName" placeholder="Your Name">
  <input type="text" id="custAddress" placeholder="Delivery Address">
  <input type="tel" id="custPhone" placeholder="Phone Number">

  <button onclick="placeOrder()" style="background:gold;width:100%;padding:8px;border:none;border-radius:8px;font-weight:bold">
    Place Order via WhatsApp
  </button>
</div>

<div class="track-box">
<h2>üì¶ Track Your Order</h2>
<input type="text" id="trackId" placeholder="Enter Order ID">
<button onclick="startTracking()">Track</button>
<div class="status" id="orderStatus"></div>
<div id="map"></div>
</div>

<footer>
üìû 7893280116 | üìß mdarfaan95@gmail.com <br>
¬© 2026 AARMA Arabian Restaurant | Siddipet
</footer>

<script>
let cart=[], orderStatusMap={}, map, marker;
const DELIVERY = 28;

// Add to cart + update count
function addToCart(name,price){
  let item = cart.find(i=>i.name===name);
  if(item){item.qty++}
  else{cart.push({name,price,qty:1})}
  updateCartCount();
  renderCart();
}

// Render cart + totals
function renderCart(){
  let list=document.getElementById("cartList"), totalBox=document.getElementById("total");
  list.innerHTML=""; let subtotal=0;
  cart.forEach(i=>{subtotal+=i.price*i.qty; list.innerHTML+=`<li>${i.name} x ${i.qty}</li>`});
  if(cart.length>0){
    let total=subtotal+DELIVERY;
    totalBox.innerHTML = "Subtotal: ‚Çπ"+subtotal+"<br>Delivery: ‚Çπ"+DELIVERY+"<br><b>Total: ‚Çπ"+total+"</b>";
  } else totalBox.innerHTML="Cart Empty";
}

// Update badge count
function updateCartCount(){
  document.getElementById("cartCount").innerText = cart.reduce((a,b)=>a+b.qty,0);
}

// Toggle cart
function toggleCart(){
  document.getElementById("cartBox").classList.toggle("active");
}

// Place order and send WhatsApp message
function placeOrder(){
  if(cart.length===0){alert("Cart Empty");return;}
  let name=document.getElementById("custName").value.trim();
  let address=document.getElementById("custAddress").value.trim();
  let phone=document.getElementById("custPhone").value.trim();
  if(!name||!address||!phone){alert("Fill all details");return;}

  let orderID="AARMA"+Math.floor(Math.random()*100000);
  orderStatusMap[orderID] = "Order Placed";

  setTimeout(()=>orderStatusMap[orderID]="Preparing",5000);
  setTimeout(()=>orderStatusMap[orderID]="Out for Delivery",10000);
  setTimeout(()=>orderStatusMap[orderID]="Delivered",15000);

  let subtotal=0;
  cart.forEach(i=>subtotal+=i.price*i.qty);
  let total=subtotal+DELIVERY;

  let message = 
    `Order ID: ${orderID}%0A`+
    `Customer: ${name}%0A`+
    `Address: ${address}%0A`+
    `Mobile: ${phone}%0A%0A`;

  cart.forEach(i=>message+=`${i.name} x ${i.qty} = ‚Çπ${i.price*i.qty}%0A`);

  message += `%0ASubtotal: ‚Çπ${subtotal}%0ADelivery: ‚Çπ${DELIVERY}%0ATotal: ‚Çπ${total}`;

  window.open(`https://wa.me/917893280116?text=${message}`);
  cart=[]; updateCartCount(); renderCart(); toggleCart();
}

// Start tracking and show map
function startTracking(){
  let id=document.getElementById("trackId").value.trim();
  if(!orderStatusMap[id]){document.getElementById("orderStatus").innerText="Invalid Order ID"; return;}

  document.getElementById("orderStatus").innerText="Status: "+orderStatusMap[id];

  // Initialize map if not already
  if(!map){
    map = new google.maps.Map(document.getElementById("map"), {
      zoom: 15,
      center: {lat:17.5, lng:78.4}
    });
    marker = new google.maps.Marker({map: map});
  }

  // Simulate movement (demo route)
  let route = [
    {lat:17.5, lng:78.4},
    {lat:17.51,lng:78.41},
    {lat:17.52,lng:78.42},
    {lat:17.53,lng:78.43}
  ];
  let i=0;
  let interval = setInterval(()=>{
    if(i>=route.length){clearInterval(interval); return;}
    marker.setPosition(route[i]);
    map.setCenter(route[i]);
    i++;
  }, 2000);
}
</script>

</body>
</html>
