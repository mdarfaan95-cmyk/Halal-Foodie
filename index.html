
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>AARMA Arabian Restaurant | Siddipet</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
<script src="https://cdn.emailjs.com/sdk/2.3.2/email.min.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
<style>
/* ===== General Styles ===== */
* {margin:0; padding:0; box-sizing:border-box; font-family:'Poppins',sans-serif; scroll-behavior: smooth;}
body {background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('https://images.unsplash.com/photo-1504674900247-0877df9cc836?q=80&w=1600'); background-size:cover; background-attachment: fixed; color:#f9f3e7; overflow-x:hidden;}
nav {display:flex; justify-content:space-between; align-items:center; padding:20px 40px; background:rgba(50,0,0,0.85); border-bottom:3px solid #ffb700;}
nav h2 {color:#ffb700; font-family:'Playfair Display',serif;}
nav button {margin-left:10px; padding:8px 15px; border:none; border-radius:25px; background:#ffb700; color:#000; font-weight:bold; cursor:pointer; transition:0.3s;}
nav button:hover {background:#e6a700; transform: scale(1.05);}
header {text-align:center; padding:100px 20px; animation: fadeIn 2s ease-in; background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('https://images.unsplash.com/photo-1617196030882-b63d40886d03?crop=entropy&cs=tinysrgb&fit=max&w=1600&q=80') no-repeat center center; background-size: cover; border-radius:15px; position:relative;}
header h1 {font-size:60px; color:#ffb700; font-family:'Playfair Display', serif; text-shadow:2px 2px 10px rgba(0,0,0,0.7);}
header p {font-size:24px; margin-top:10px; color:#f3e5d5;}
section {padding:60px 10%; background: rgba(50,0,0,0.7); border-radius:20px; margin-bottom:40px;}
section h2 {text-align:center; margin-bottom:40px; color:#ffb700; font-size:42px; font-family:'Playfair Display',serif;}
.menu-container {display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:25px;}
.menu-item {background:rgba(50,0,0,0.8); padding:25px; border-radius:20px; text-align:center; border:2px solid #ffb700; transition:0.5s; box-shadow:0 5px 15px rgba(0,0,0,0.4);}
.menu-item:hover {transform: scale(1.07); box-shadow:0 12px 25px rgba(0,0,0,0.7); border-color:#ffdb4d; background:linear-gradient(45deg, rgba(80,0,0,0.8), rgba(120,20,0,0.8));}
.menu-item h3 {margin-bottom:10px; font-family:'Playfair Display', serif; color:#ffd966;}
.price {color:#ffb700; font-weight:bold; margin:10px 0; font-size:20px;}
.menu-item button {background:#ffb700; color:#000; border:none; padding:10px 18px; border-radius:20px; cursor:pointer; font-weight:bold; transition:0.3s;}
.menu-item button:hover {background:#e6a700; transform: scale(1.05);}
.cart {position:fixed; bottom:20px; right:20px; background:#ffb700; color:black; padding:15px 20px; border-radius:30px; cursor:pointer; font-weight:bold; font-size:18px; z-index:1000; box-shadow:0 4px 10px rgba(0,0,0,0.4); animation: pulse 2s infinite;}
.cart-items {position:fixed; bottom:70px; right:20px; background:rgba(50,0,0,0.95); color:white; padding:20px; border-radius:15px; max-width:320px; display:none; z-index:1000; max-height:400px; overflow-y:auto;}
.cart-items h3 {margin-bottom:10px; color:#ffb700;}
.cart-items ul {list-style:none;}
.cart-items ul li {margin-bottom:8px; border-bottom:1px solid #ffb700; padding-bottom:5px;}
.cart-items ul li button {margin-left: 6px; background: #ffb700; border: none; border-radius: 5px; padding: 2px 6px; cursor: pointer; font-weight: bold; color: black;}
footer {background:#330000; text-align:center; padding:25px; color:#f3e5d5; font-size:15px; border-top:2px solid #ffb700;}
footer a {color:#ffb700; text-decoration:none;}
@keyframes fadeIn {from {opacity:0;} to {opacity:1;}}
@keyframes slideDown {from {transform:translateY(-50px); opacity:0;} to {transform:translateY(0); opacity:1;}}
@keyframes pulse {0%,100%{ transform: scale(1);} 50%{ transform: scale(1.1);}}
.admin-section {display:none; padding:20px;}
.admin-section h2 {color:#ffb700; margin-bottom:20px;}
.order-item {background:rgba(80,0,0,0.8); padding:10px; border-radius:10px; margin-bottom:10px;}
.order-item button {margin-left:5px; background:#28a745; color:white; border:none; border-radius:5px; padding:3px 6px; cursor:pointer;}
.order-item button.cancel {background:#dc3545;}
</style>
</head>
<body>
<script>
emailjs.init("user_mdarfaan95"); // Replace with your EmailJS user ID

// Firebase Config
const firebaseConfig = {
  apiKey: "YOUR_FIREBASE_API_KEY",
  authDomain: "YOUR_FIREBASE_AUTH_DOMAIN",
  databaseURL: "YOUR_FIREBASE_DB_URL",
  projectId: "YOUR_FIREBASE_PROJECT_ID",
};
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

let cart = [];

// ===== Customer Functions =====
function addToCart(name, price){
  const existing = cart.find(i=>i.name===name);
  if(existing) existing.qty++; else cart.push({name:name, price:price, qty:1});
  renderCart();
}
function removeItem(name){ cart=cart.filter(i=>i.name!==name); renderCart();}
function changeQty(name, delta){ const item=cart.find(i=>i.name===name); if(!item) return; item.qty+=delta; if(item.qty<1) removeItem(name); else renderCart();}
function renderCart(){
  const list = document.getElementById('cartList');
  list.innerHTML='';
  if(cart.length===0){ list.innerHTML='<li>Your cart is empty</li>'; document.getElementById('cartItems').style.display='none'; return;}
  let total=0;
  cart.forEach(item=>{
    total+=item.price*item.qty;
    const li=document.createElement('li');
    li.innerHTML=`<strong>${item.name}</strong> - ‚Çπ${item.price} x ${item.qty}
      <button onclick="changeQty('${item.name}',1)">+</button>
      <button onclick="changeQty('${item.name}',-1)">-</button>
      <button onclick="removeItem('${item.name}')">Remove</button>`;
    list.appendChild(li);
  });
  const totalLi=document.createElement('li');
  totalLi.style.marginTop='15px';
  totalLi.innerHTML=`<strong>Total: ‚Çπ${total}</strong>`;
  list.appendChild(totalLi);

  const orderBtn=document.createElement('button');
  orderBtn.textContent="Place Order";
  orderBtn.style.marginTop='10px'; orderBtn.style.padding='10px 15px';
  orderBtn.style.backgroundColor='#ffb700'; orderBtn.style.color='black';
  orderBtn.style.border='none'; orderBtn.style.borderRadius='15px'; orderBtn.style.cursor='pointer';
  orderBtn.onclick=showOrderForm; list.appendChild(orderBtn);
  document.getElementById('cartItems').style.display='block';
}
function toggleCart(){ const cartDiv=document.getElementById('cartItems'); cartDiv.style.display=(cartDiv.style.display==='block')?'none':'block'; }

function showOrderForm(){
  if(document.getElementById('orderForm')) return;
  const formHTML=`
  <div id="orderForm" style="position:fixed; top:50%; left:50%; transform:translate(-50%,-50%);
      background:#330000; padding:20px; border-radius:10px; z-index:2000; max-width:320px; color:#f3e5d5;">
    <h3 style="color:#ffb700; margin-bottom:15px;">Place Your Order</h3>
    <label>Name:</label><br/><input type="text" id="customerName" style="width:100%; margin-bottom:10px; padding:5px;"><br/>
    <label>Phone:</label><br/><input type="tel" id="customerPhone" style="width:100%; margin-bottom:10px; padding:5px;"><br/>
    <label>Address:</label><br/><textarea id="customerAddress" style="width:100%; margin-bottom:10px; padding:5px;" rows="3"></textarea><br/>
    <button onclick="submitOrder()" style="background:#ffb700;color:black;border:none;padding:10px 20px;border-radius:15px;cursor:pointer;font-weight:bold;margin-right:10px;">Submit</button>
    <button onclick="closeOrderForm()" style="background:#555;color:white;border:none;padding:10px 20px;border-radius:15px;cursor:pointer;">Cancel</button>
  </div>
  <div id="overlay" style="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7);z-index:1000;" onclick="closeOrderForm()"></div>`;
  document.body.insertAdjacentHTML('beforeend',formHTML);
}
function closeOrderForm(){ const f=document.getElementById('orderForm'); if(f) f.remove(); const o=document.getElementById('overlay'); if(o) o.remove();}

function submitOrder(){
  const n=document.getElementById('customerName').value.trim();
  const p=document.getElementById('customerPhone').value.trim();
  const a=document.getElementById('customerAddress').value.trim();
  if(!n || !p || !a){ alert('Please fill all fields'); return; }

  // Get Location
  if(navigator.geolocation){
    navigator.geolocation.getCurrentPosition(pos=>{
      const lat = pos.coords.latitude;
      const lng = pos.coords.longitude;
      saveOrder(n,p,a,lat,lng);
    }, err=>{
      saveOrder(n,p,a,"Not Provided","Not Provided");
    });
  } else {
    saveOrder(n,p,a,"Not Supported","Not Supported");
  }
}

function saveOrder(name,phone,address,lat,lng){
  let details=''; cart.forEach(i=>details+=`${i.name} x ${i.qty} = ‚Çπ${i.price*i.qty}\n`);
  let total=cart.reduce((sum,i)=>sum+i.price*i.qty,0);

  // WhatsApp
  const message=`New Order from ${name}\nPhone: ${phone}\nAddress: ${address}\nLat: ${lat}, Lng: ${lng}\n\nOrder:\n${details}\nTotal: ‚Çπ${total}`;
  const encodedMessage=encodeURIComponent(message);
  window.open(`https://wa.me/7893280116?text=${encodedMessage}`,'_blank');

  // EmailJS Backup
  emailjs.send("service_mdarfaan","template_mdarfaan",{customer_name:name, customer_phone:phone, customer_address:address, order_details:details})
  .then(res=>console.log('Email sent'), err=>console.log(err));

  // Firebase Save
  const newOrderRef=db.ref('orders').push();
  newOrderRef.set({name,phone,address,lat,lng,cart, total, status:'Pending'});

  alert('Your order has been sent!');
  cart=[]; renderCart(); closeOrderForm();
}

// ===== Admin Functions =====
function toggleAdmin(){
  const cs=document.getElementById('customerSection');
  const ad=document.getElementById('adminSection');
  if(cs.style.display!=='none'){ cs.style.display='none'; ad.style.display='block'; loadOrders();}
  else{ cs.style.display='block'; ad.style.display='none';}
}

function loadOrders(){
  const container=document.getElementById('adminOrders');
  container.innerHTML='';
  db.ref('orders').once('value',snapshot=>{
    snapshot.forEach(s=>{
      const o=s.val();
      const div=document.createElement('div');
      div.className='order-item';
      div.innerHTML=`<strong>${o.name}</strong> | ‚Çπ${o.total} | ${o.status}<br>
      <button onclick="updateOrderStatus('${s.key}','Confirmed')">Confirm</button>
      <button class="cancel" onclick="updateOrderStatus('${s.key}','Cancelled')">Cancel</button>`;
      container.appendChild(div);
    });
  });
}

function updateOrderStatus(id,status){
  db.ref('orders/'+id).update({status});
  loadOrders();
}
</script>

<nav>
  <h2>AARMA Arabian Restaurant | Owner: Md Arfaanuddin</h2>
  <div>
    <button onclick="toggleAdmin()">Admin</button>
  </div>
</nav>

<!-- ===== Customer Section ===== -->
<div id="customerSection">
<header>
  <h1>Luxury Arabian & Indian Flavors</h1>
  <p>Siddipet's Premium Dining Experience</p>
</header>

<section>
<h2>üçñ Mandi Specials</h2>
<div class="menu-container">
<div class="menu-item"><h3>Chicken Mandi</h3><p class="price">‚Çπ450</p><button onclick="addToCart('Chicken Mandi',450)">Add</button></div>
<div class="menu-item"><h3>Mutton Mandi</h3><p class="price">‚Çπ650</p><button onclick="addToCart('Mutton Mandi',650)">Add</button></div>
</div>
</section>

<section>
<h2>üî• Grill & BBQ Specials</h2>
<div class="menu-container">
<div class="menu-item"><h3>Grilled Chicken</h3><p class="price">‚Çπ400</p><button onclick="addToCart('Grilled Chicken',400)">Add</button></div>
</div>
</section>

<section>
<h2>ü•£ Haleem Specials</h2>
<div class="menu-container">
<div class="menu-item"><h3>Chicken Haleem</h3><p class="price">‚Çπ220</p><button onclick="addToCart('Chicken Haleem',220)">Add</button></div>
<div class="menu-item"><h3>Mutton Haleem</h3><p class="price">‚Çπ350</p><button onclick="addToCart('Mutton Haleem',350)">Add</button></div>
</div>
</section>

<section>
<h2>üç∞ Delights</h2>
<div class="menu-container">
<div class="menu-item"><h3>African Pudding</h3><p class="price">‚Çπ180</p><button onclick="addToCart('African Pudding',180)">Add</button></div>
<div class="menu-item"><h3>Double Ka Meetha</h3><p class="price">‚Çπ200</p><button onclick="addToCart('Double Ka Meetha',200)">Add</button></div>
</div>
</section>

<!-- Cart -->
<div class="cart" onclick="toggleCart()">üõí Cart</div>
<div class="cart-items" id="cartItems">
<h3>Your Cart</h3>
<ul id="cartList"><li>Your cart is empty</li></ul>
</div>
</div>

<!-- ===== Admin Section ===== -->
<div id="adminSection" class="admin-section">
<h2>Admin Panel - Orders</h2>
<div id="adminOrders"></div>
</div>

<footer>
  &copy; 2026 AARMA Arabian Restaurant | Luxurious & Spicy <br/>
  Contact: <a href="mailto:mdarfaan95@gmail.com">mdarfaan95@gmail.com</a>
</footer>
</body>
</html>
